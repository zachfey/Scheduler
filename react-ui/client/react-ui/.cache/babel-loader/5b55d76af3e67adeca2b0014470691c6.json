{"ast":null,"code":"import _classCallCheck from \"c:\\\\Users\\\\Zach\\\\bc\\\\00-Homework\\\\Scheduler\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"c:\\\\Users\\\\Zach\\\\bc\\\\00-Homework\\\\Scheduler\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"c:\\\\Users\\\\Zach\\\\bc\\\\00-Homework\\\\Scheduler\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"c:\\\\Users\\\\Zach\\\\bc\\\\00-Homework\\\\Scheduler\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"c:\\\\Users\\\\Zach\\\\bc\\\\00-Homework\\\\Scheduler\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"c:\\\\Users\\\\Zach\\\\bc\\\\00-Homework\\\\Scheduler\\\\client\\\\src\\\\pages\\\\scheduler\\\\scheduler.js\";\nimport React, { Component } from \"react\"; // import Jumbotron from \"../../components/Jumbotron\";\n// import DeleteBtn from \"../../components/DeleteBtn\";\n\nimport Year from \"../../components/Year\";\nimport Months from '../../components/Months';\nimport Weeks from '../../components/Weeks';\nimport WeekSchedule from '../../components/WeekSchedule';\nimport API from \"../../utils/API\";\nimport { Col, Row, Container } from \"../../components/Grid\";\nimport Axios from \"axios\"; // import { List, ListItem } from \"../../components/List\";\n// import { Input, TextArea, FormBtn } from \"../../components/Form\";\n\nvar moment = require('moment');\n\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar months = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\nvar weeks = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52];\nvar years = [];\n\nfor (var i = 2015; i <= moment().format('YYYY'); i++) {\n  //TODO: update this to current year when done\n  years.push(i);\n}\n\nvar weekOfYear = function weekOfYear(month, year) {\n  return parseInt(moment(month + ' ' + year, \"M-YYYY\").week());\n};\n\nvar Scheduler =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Scheduler, _Component);\n\n  function Scheduler() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Scheduler);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Scheduler)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selectedYear: moment().format('YYYY'),\n      selectedMonth: moment().format('M'),\n      selectedWeek: moment().format('W'),\n      week: null\n    };\n\n    _this.findWeekSchedule = function (week, year) {\n      _this.pullSchedule(week, year, function (res) {\n        _this.setState({\n          week: res\n        }, function () {\n          console.table(_this.state.week);\n        });\n      });\n    };\n\n    _this.pullSchedule = function (week, year, callback) {\n      API.getWeek(week, year).then(function (res) {\n        return callback(res.data);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleClick = function (type, value) {\n      switch (type) {\n        case 'year':\n          if (value === parseInt(_this.state.selectedYear)) {\n            // sets state to nulll to collapse menu\n            _this.setState({\n              selectedYear: null,\n              selectedMonth: null,\n              selectedWeek: null\n            });\n          } else {\n            _this.setState({\n              selectedYear: value,\n              selectedMonth: null,\n              selectedWeek: null\n            });\n          }\n\n          break;\n\n        case 'month':\n          if (value === parseInt(_this.state.selectedMonth)) {\n            _this.setState({\n              selectedMonth: null,\n              selectedWeek: null\n            });\n          } else {\n            _this.setState({\n              selectedMonth: value,\n              selectedWeek: null\n            });\n          }\n\n          break;\n\n        case 'week':\n          if (value === parseInt(_this.state.selectedWeek)) {\n            _this.setState({\n              selectedWeek: null\n            });\n          } else {\n            _this.setState({\n              selectedWeek: value\n            });\n\n            _this.findWeekSchedule(value, _this.state.selectedYear);\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.renderYears = function () {\n      return years.map(function (year) {\n        if (year === parseInt(_this.state.selectedYear)) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, React.createElement(Year, {\n            year: year,\n            handleClick: _this.handleClick,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }), \" \", _this.renderMonths(year));\n        }\n\n        return React.createElement(Year, {\n          year: year,\n          handleClick: _this.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        });\n      });\n    };\n\n    _this.renderMonths = function (year) {\n      return months.map(function (month) {\n        if (month === parseInt(_this.state.selectedMonth)) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, React.createElement(Months, {\n            month: month,\n            handleClick: _this.handleClick,\n            monthNames: monthNames,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }), _this.renderWeeks(month, year));\n        } else {\n          return React.createElement(Months, {\n            month: month,\n            handleClick: _this.handleClick,\n            monthNames: monthNames,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            },\n            __self: this\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Scheduler, [{\n    key: \"clickButton\",\n    value: function clickButton() {\n      var _this2 = this;\n\n      //test button at the top of the page\n      Axios.post('/api/auth/logout').then(function (res) {\n        console.log(res);\n\n        _this2.props.history.push('/');\n      }); // API.getWeek(28, 2019)\n      //   .then(res => {\n      //     console.table(res.data)\n      //   })\n      //   .catch(err => console.log(err))\n      // API.getAll()\n      //   .then(res =>\n      //     console.table(res.data))\n      //   .catch(err => console.log(err));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.findWeekSchedule(this.state.selectedWeek, this.state.selectedYear);\n    } //pull that week's schedule then sets state\n\n  }, {\n    key: \"renderWeeks\",\n    value: function renderWeeks(month, year) {\n      var _this3 = this;\n\n      return weeks.map(function (week) {\n        if (week < weekOfYear(parseInt(month) + 1, year) && week >= weekOfYear(month, year)) {\n          if (week === parseInt(_this3.state.selectedWeek)) {\n            console.log('this.state: ' + _this3.state); // console.log('this.state.week.week: ' + this.state.week.week)\n\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 186\n              },\n              __self: this\n            }, React.createElement(Weeks, {\n              week: week,\n              handleClick: _this3.handleClick,\n              weekDisplayStart: moment(week + ' ' + year, \"w-YYYY\").format('M/D/YY'),\n              weekDisplayEnd: moment(week + 1 + ' ' + year, \"w-YYYY\").format('M/D/YY'),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 187\n              },\n              __self: this\n            }), _this3.state.week && _this3.state.week.week === week ? React.createElement(WeekSchedule, {\n              week: _this3.state.week,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 194\n              },\n              __self: this\n            }) : 'Loading' //TODO add a timeout to the 'loading'\n            );\n          } else {\n            return React.createElement(Weeks, {\n              week: week,\n              handleClick: _this3.handleClick,\n              weekDisplayStart: moment(week + ' ' + year, \"w-YYYY\").format('M/D/YY'),\n              weekDisplayEnd: moment(week + 1 + ' ' + year, \"w-YYYY\").format('M/D/YY'),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 205\n              },\n              __self: this\n            });\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state);\n      return React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.clickButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Log Out \"), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-6 sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, this.renderYears())));\n    }\n  }]);\n\n  return Scheduler;\n}(Component);\n\nexport default Scheduler;","map":{"version":3,"sources":["c:\\Users\\Zach\\bc\\00-Homework\\Scheduler\\client\\src\\pages\\scheduler\\scheduler.js"],"names":["React","Component","Year","Months","Weeks","WeekSchedule","API","Col","Row","Container","Axios","moment","require","monthNames","months","weeks","years","i","format","push","weekOfYear","month","year","parseInt","week","Scheduler","state","selectedYear","selectedMonth","selectedWeek","findWeekSchedule","pullSchedule","res","setState","console","table","callback","getWeek","then","data","catch","err","log","handleClick","type","value","renderYears","map","renderMonths","renderWeeks","post","props","history","clickButton"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n// import Jumbotron from \"../../components/Jumbotron\";\n// import DeleteBtn from \"../../components/DeleteBtn\";\nimport Year from \"../../components/Year\";\nimport Months from '../../components/Months';\nimport Weeks from '../../components/Weeks';\nimport WeekSchedule from '../../components/WeekSchedule'\nimport API from \"../../utils/API\";\nimport { Col, Row, Container } from \"../../components/Grid\";\nimport Axios from \"axios\";\n// import { List, ListItem } from \"../../components/List\";\n// import { Input, TextArea, FormBtn } from \"../../components/Form\";\nconst moment = require('moment')\n\nconst monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\nconst months = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\nconst weeks = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52]\n\nlet years = []\nfor (let i = 2015; i <= moment().format('YYYY'); i++) { //TODO: update this to current year when done\n  years.push(i);\n}\n\nconst weekOfYear = (month, year) => parseInt(moment(month + ' ' + year, \"M-YYYY\").week())\n\n\nclass Scheduler extends Component {\n  // Setting the initial state - the mneu will open to the current week\n  state = {\n    selectedYear: moment().format('YYYY'),\n    selectedMonth: moment().format('M'),\n    selectedWeek: moment().format('W'),\n    week: null\n  }\n\n  clickButton() { //test button at the top of the page\n    Axios.post('/api/auth/logout').then(res =>{\n      console.log(res);\n      this.props.history.push('/')\n    })\n    // API.getWeek(28, 2019)\n    //   .then(res => {\n    //     console.table(res.data)\n    //   })\n    //   .catch(err => console.log(err))\n    // API.getAll()\n    //   .then(res =>\n    //     console.table(res.data))\n\n    //   .catch(err => console.log(err));\n  };\n\n  componentDidMount() {\n    this.findWeekSchedule(this.state.selectedWeek, this.state.selectedYear)\n  }\n\n\n  //pull that week's schedule then sets state\n  findWeekSchedule = (week, year) => {\n    this.pullSchedule(week, year, res => {\n      this.setState({\n        week: res,\n      },\n        ()  => {console.table(this.state.week)}\n      )\n    })\n  }\n\n  //pullSchedule is used when a week is clicked on. It pulls that week's schedule from Mongo and returns via callback\n  pullSchedule = (week, year, callback) => {\n    API.getWeek(week, year)\n      .then(res => {\n        return callback(res.data)\n      })\n      .catch(err => console.log(err))\n  }\n\n  //handles clicks on year, month, or weeks\n  handleClick = (type, value) => {\n    switch (type) {\n      case 'year':\n        if (value === parseInt(this.state.selectedYear)) {\n          // sets state to nulll to collapse menu\n          this.setState({\n            selectedYear: null,\n            selectedMonth: null,\n            selectedWeek: null\n          })\n        } else {\n          this.setState({\n            selectedYear: value,\n            selectedMonth: null,\n            selectedWeek: null\n          })\n        }\n        break;\n\n      case 'month':\n        if (value === parseInt(this.state.selectedMonth)) {\n          this.setState({\n            selectedMonth: null,\n            selectedWeek: null\n          })\n        } else {\n          this.setState({\n            selectedMonth: value,\n            selectedWeek: null\n          })\n        }\n        break;\n\n      case 'week':\n        if (value === parseInt(this.state.selectedWeek)) {\n          this.setState({\n            selectedWeek: null\n          })\n        } else {\n          this.setState({\n            selectedWeek: value\n          })\n          this.findWeekSchedule(value, this.state.selectedYear)\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  renderYears = () => {\n    return years.map(year => {\n      if (year === parseInt(this.state.selectedYear)) {\n        return (\n          <div>\n            <Year\n              year={year}\n              handleClick={this.handleClick}\n            />\n            {/* {this.renderMonths(year)} */} {/*The render months function is typed out below*/}\n            {this.renderMonths(year)}\n          </div>\n        )\n      }\n      return (\n        <Year\n          year={year}\n          handleClick={this.handleClick}\n        />\n      )\n    })\n  }\n\n  renderMonths = year => {\n    return months.map(month => {\n      if (month === parseInt(this.state.selectedMonth)) {\n        return (\n          <div>\n            <Months\n              month={month}\n              handleClick={this.handleClick}\n              monthNames={monthNames}\n            />\n            {this.renderWeeks(month, year)}\n          </div>\n        )\n      } else {\n        return (\n          <Months\n            month={month}\n            handleClick={this.handleClick}\n            monthNames={monthNames}\n          />\n        )\n      }\n    })\n    \n  }\n\n  renderWeeks(month, year) {\n    return weeks.map(week => {\n      if (week < weekOfYear((parseInt(month) + 1), year) && week >= weekOfYear(month, year)) {\n        if (week === parseInt(this.state.selectedWeek)) {\n          console.log('this.state: '+ this.state)\n          // console.log('this.state.week.week: ' + this.state.week.week)\n          return (\n            <div>\n              <Weeks\n                week={week}\n                handleClick={this.handleClick}\n                weekDisplayStart={moment(week + ' ' + year, \"w-YYYY\").format('M/D/YY')}\n                weekDisplayEnd={moment((week + 1) + ' ' + year, \"w-YYYY\").format('M/D/YY')}\n              />\n              {(this.state.week && this.state.week.week === week) ? \n              <WeekSchedule\n                week = {this.state.week}\n              />\n              :\n              'Loading' //TODO add a timeout to the 'loading'\n            }\n              \n            </div>\n          )\n        } else {\n          return (\n            <Weeks\n              week={week}\n              handleClick={this.handleClick}\n              weekDisplayStart={moment(week + ' ' + year, \"w-YYYY\").format('M/D/YY')}\n              weekDisplayEnd={moment((week + 1) + ' ' + year, \"w-YYYY\").format('M/D/YY')}\n            />\n          )\n        }\n      }\n    })\n\n  }\n\n  render() {\n    console.log(this.state)\n    return (\n      <Container fluid>\n        <button\n          onClick={this.clickButton}\n        >Log Out </button>\n        <Row>\n          <Col size=\"md-6 sm-12\">\n            {this.renderYears()}\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Scheduler;\n"]},"metadata":{},"sourceType":"module"}