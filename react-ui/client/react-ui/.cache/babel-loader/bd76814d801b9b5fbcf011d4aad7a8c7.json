{"ast":null,"code":"import { sessionService } from 'redux-react-session';\nimport * as sessionApi from './API';\nexport var login = function login(user, history) {\n  return function () {\n    return sessionApi.login(user).then(function (response) {\n      var token = response.token;\n      sessionService.saveSession({\n        token: token\n      }).then(function () {\n        sessionService.saveUser(response.data).then(function () {\n          history.push('/');\n        }).catch(function (err) {\n          return console.error(err);\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    });\n  };\n};\nexport var logout = function logout(history) {\n  return function () {\n    return sessionApi.logout().then(function () {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(function (err) {\n      throw err;\n    });\n  };\n};","map":{"version":3,"sources":["c:\\Users\\Zach\\bc\\00-Homework\\Scheduler\\client\\src\\utils\\session.js"],"names":["sessionService","sessionApi","login","user","history","then","response","token","saveSession","saveUser","data","push","catch","err","console","error","logout","deleteSession","deleteUser"],"mappings":"AAAA,SAASA,cAAT,QAA+B,qBAA/B;AACA,OAAO,KAAKC,UAAZ,MAA4B,OAA5B;AAEA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,IAAD,EAAOC,OAAP,EAAmB;AACtC,SAAO,YAAM;AACX,WAAOH,UAAU,CAACC,KAAX,CAAiBC,IAAjB,EAAuBE,IAAvB,CAA4B,UAAAC,QAAQ,EAAI;AAAA,UACrCC,KADqC,GAC3BD,QAD2B,CACrCC,KADqC;AAE7CP,MAAAA,cAAc,CAACQ,WAAf,CAA2B;AAAED,QAAAA,KAAK,EAALA;AAAF,OAA3B,EACCF,IADD,CACM,YAAM;AACVL,QAAAA,cAAc,CAACS,QAAf,CAAwBH,QAAQ,CAACI,IAAjC,EACCL,IADD,CACM,YAAM;AACVD,UAAAA,OAAO,CAACO,IAAR,CAAa,GAAb;AACD,SAHD,EAGGC,KAHH,CAGS,UAAAC,GAAG;AAAA,iBAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,SAHZ;AAID,OAND,EAMGD,KANH,CAMS,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,OANZ;AAOD,KATM,CAAP;AAUD,GAXD;AAYD,CAbM;AAeP,OAAO,IAAMG,MAAM,GAAG,SAATA,MAAS,CAACZ,OAAD,EAAa;AACjC,SAAO,YAAM;AACX,WAAOH,UAAU,CAACe,MAAX,GAAoBX,IAApB,CAAyB,YAAM;AACpCL,MAAAA,cAAc,CAACiB,aAAf;AACAjB,MAAAA,cAAc,CAACkB,UAAf;AACAd,MAAAA,OAAO,CAACO,IAAR,CAAa,QAAb;AACD,KAJM,EAIJC,KAJI,CAIE,UAAAC,GAAG,EAAI;AACd,YAAOA,GAAP;AACD,KANM,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { sessionService } from 'redux-react-session';\r\nimport * as sessionApi from './API';\r\n\r\nexport const login = (user, history) => {\r\n  return () => {\r\n    return sessionApi.login(user).then(response => {\r\n      const { token } = response;\r\n      sessionService.saveSession({ token })\r\n      .then(() => {\r\n        sessionService.saveUser(response.data)\r\n        .then(() => {\r\n          history.push('/');\r\n        }).catch(err => console.error(err));\r\n      }).catch(err => console.error(err));\r\n    });\r\n  };\r\n};\r\n\r\nexport const logout = (history) => {\r\n  return () => {\r\n    return sessionApi.logout().then(() => {\r\n      sessionService.deleteSession();\r\n      sessionService.deleteUser();\r\n      history.push('/login');\r\n    }).catch(err => {\r\n      throw (err);\r\n    });\r\n  };\r\n};"]},"metadata":{},"sourceType":"module"}